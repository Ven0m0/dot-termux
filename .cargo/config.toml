[unstable]
unstable-options = true
git = true
gitoxide = true
no-embed-metadata = true
avoid-dev-deps = true
trim-paths = true

[alias]
b = "build"
i = "install"

[build]
rustc-wrapper = "sccache"
incremental = false
rustflags = ["-C", "target-cpu=native"]

[env]
CARGO_CACHE_RUSTC_INFO = "1"
RUSTC_BOOTSTRAP = "1"
CMAKE_BUILD_TYPE = "Release"
RUSTC_LOG = "off"

[http]
debug = false
ssl-version = "tlsv1.3"
check-revoke = false
multiplexing = true

[net]
git-fetch-with-cli = true
retry = 2

[registries.crates-io]
protocol = "sparse"

[resolver]
incompatible-rust-versions = "allow"

[profile.release]
opt-level = 3
lto = "fat"
panic = "abort"
strip = "symbols"
debug = false
debug-assertions = false
overflow-checks = false

[profile.release.build-override]
opt-level = 0
lto = false
codegen-units = 256
incremental = true
debug = false

[profile.dev]
opt-level = 0
lto = false
codegen-units = 256
incremental = true
debug = false

[target.aarch64-linux-android]
linker = "clang"
rustflags = ["-C", "target-cpu=native", "-C", "link-arg=-fuse-ld=lld"]

[term]
color = 'auto'
progress.when = 'auto'
